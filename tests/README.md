# Тесты для функциональности URL

Это руководство по тестам для проверки URL-функциональности в приложении симуляции гравитации.

## Типы тестов

В проекте реализованы два типа тестов:

1. **Модульные тесты** - тестируют отдельные компоненты изолированно, используя моки вместо реальных зависимостей.
2. **Интеграционные тесты** - тестируют взаимодействие между компонентами в реальном окружении браузера.

## Запуск тестов

### Запуск всех тестов
```
npm test
```

### Запуск только модульных тестов
```
npm run test:unit
```

### Запуск только интеграционных тестов
```
npm run test:integration
```

## Структура тестов

- `url.test.ts` - модульные тесты для проверки URL-функциональности в изолированной среде.
- `url.integration.test.ts` - интеграционные тесты для проверки URL-функциональности в реальном браузере.

## Тестируемая функциональность

Тесты проверяют следующую функциональность, связанную с URL:

1. Обновление URL при выборе случайного пресета через кнопку "Случайная".
2. Обновление URL при выборе определенного пресета из выпадающего меню.
3. Обновление URL при изменении скорости времени с помощью ползунка.
4. Обновление URL при включении/выключении коллизий.
5. Корректная загрузка всех параметров из URL при инициализации страницы.

## Запуск интеграционных тестов

Интеграционные тесты уже готовы к использованию. Для их запуска:

1. Убедитесь, что в проекте установлен Playwright:
```
npm install --save-dev playwright
```

2. Запустите локальный сервер разработки в отдельном терминале:
```
npm start
```

3. Запустите интеграционные тесты:
```
npm run test:integration
```

Тесты будут автоматически запускаться в браузере Chrome (с помощью Playwright) и проверять взаимодействие с URL при различных действиях пользователя.

### Автоматический запуск с проверкой сервера

Для удобства также добавлена команда, которая автоматически проверит доступность сервера и при необходимости запустит его:

```
npm run test:integration:auto
```

Эта команда:
1. Проверит, запущен ли сервер на порту 8080
2. Если сервер не запущен, запустит его автоматически
3. Дождется запуска сервера
4. Запустит интеграционные тесты

### Конфигурация тестов

Интеграционные тесты настроены на работу с локальным сервером по адресу `http://localhost:8080`. Если ваш сервер работает на другом порту, отредактируйте URL в файле `url.integration.test.ts`. 